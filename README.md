Sure! Here’s a more comprehensive README file that covers all three CSVs you’ve created in your project:

---

# Financial Data Scraper for Multiple Companies

This project is a Python-based web scraper designed to extract financial data from company pages on the Screener.in website. The scraper retrieves important financial metrics across various categories and organizes this data in structured CSV files for further analysis.

## Table of Contents
- [Introduction](#introduction)
- [Features Extracted](#features-extracted)
- [Solution Overview](#solution-overview)
- [CSV Outputs](#csv-outputs)
- [Prerequisites](#prerequisites)
- [Installation](#installation)
- [Usage](#usage)
- [Data Storage](#data-storage)
- [Issues and Challenges](#issues-and-challenges)
- [Future Enhancements](#future-enhancements)

## Introduction

This project aims to automate the process of scraping important financial data from a list of URLs pointing to company profiles on Screener.in. It can be used to track the financial performance of multiple companies over time. The tool is specifically configured to extract data from the "Profit & Loss" and "Balance Sheet" sections of the website for each company.

## Features Extracted

The scraper targets the following financial metrics:

### Profit & Loss Metrics
1. **Sales**: Revenue generated by the company in a given financial year.
2. **Net Profit**: The company's profit after all expenses have been deducted from sales.
3. **OPM%**: Operating Profit Margin as a percentage of sales.
4. **EPS**: Earnings Per Share, a measure of profitability on a per-share basis.

### Balance Sheet Metrics
1. **Reserves**: Total reserves held by the company.
2. **Borrowings**: Total borrowings or debts of the company.
3. **Total Liabilities**: Overall liabilities including borrowings and other obligations.
4. **Fixed Assets**: The value of the company's fixed assets.
5. **Investments**: Total investments made by the company.
6. **Total Assets**: The sum of current and non-current assets.

## Solution Overview

### Web Scraping Process

The project utilizes Python's `requests` library to fetch HTML content from Screener.in for each company URL and `BeautifulSoup` for parsing the HTML to extract the relevant financial data.

1. **Extracting Company Data**: For each company URL, the scraper fetches the HTML page and locates the relevant sections (Profit & Loss or Balance Sheet) using the appropriate `id` attribute.

2. **Targeting Financial Metrics**: The scraper navigates through the tables of financial metrics and captures the required columns for both Profit & Loss and Balance Sheet.

3. **Fetching Data Points**: The scraper captures the latest financial data points for each metric, corresponding to the most recent financial years (e.g., Mar 2022, Mar 2023, Mar 2024).

4. **Handling Percentages**: For metrics like OPM%, the scraper carefully parses the value by stripping out the '%' symbol and converting it into a floating-point number.

5. **Organizing Data in DataFrames**: The data is stored in structured pandas DataFrames, which are then exported to CSV files.

## CSV Outputs

The scraper generates three CSV files containing the extracted financial data:

1. **`profit_loss_data.csv`**: Contains Profit & Loss metrics with the following columns:
   - `Timestamp`: The financial year (e.g., Mar 2022, Mar 2023, Mar 2024).
   - `Company`: Name of the company.
   - `Sales`, `Net Profit`, `OPM%`, `EPS`: Financial metrics for each company and year.

   Example:
   ```
   Timestamp,Company,Sales,Net Profit,OPM%,EPS
   Mar 2022,VOLTAS,45328.0,3783.0,13.2,27.5
   Mar 2023,VOLTAS,49012.0,4012.0,13.0,28.2
   Mar 2024,VOLTAS,52245.0,4215.0,12.5,30.1
   ```

2. **`balance_sheet_data.csv`**: Contains Balance Sheet metrics with the following columns:
   - `Timestamp`: The financial year (e.g., Mar 2022, Mar 2023, Mar 2024).
   - `Company`: Name of the company.
   - `Reserves`, `Borrowings`, `Total Liabilities`, `Fixed Assets`, `Investments`, `Total Assets`: Financial metrics for each company and year.

   Example:
   ```
   Timestamp,Company,Reserves,Borrowings,Total Liabilities,Fixed Assets,Investments,Total Assets
   Mar 2022,VOLTAS,12345.0,6789.0,20000.0,10000.0,5000.0,50000.0
   Mar 2023,VOLTAS,13000.0,7000.0,21000.0,10500.0,5200.0,52000.0
   Mar 2024,VOLTAS,13500.0,7200.0,22000.0,11000.0,5500.0,55000.0
   ```

3. **`combined_data.csv`**: Combines both Profit & Loss and Balance Sheet data into a single file with the following columns:
   - `Timestamp`: The financial year.
   - `Company`: Name of the company.
   - `Sales`, `Net Profit`, `OPM%`, `EPS`, `Reserves`, `Borrowings`, `Total Liabilities`, `Fixed Assets`, `Investments`, `Total Assets`: All extracted financial metrics.

   Example:
   ```
   Timestamp,Company,Sales,Net Profit,OPM%,EPS,Reserves,Borrowings,Total Liabilities,Fixed Assets,Investments,Total Assets
   Mar 2022,VOLTAS,45328.0,3783.0,13.2,27.5,12345.0,6789.0,20000.0,10000.0,5000.0,50000.0
   Mar 2023,VOLTAS,49012.0,4012.0,13.0,28.2,13000.0,7000.0,21000.0,10500.0,5200.0,52000.0
   Mar 2024,VOLTAS,52245.0,4215.0,12.5,30.1,13500.0,7200.0,22000.0,11000.0,5500.0,55000.0
   ```

## Prerequisites

- Python 3.x
- `requests`, `beautifulsoup4`, and `pandas` libraries

You can install the required dependencies via pip:
```bash
pip install requests beautifulsoup4 pandas
```

## Installation

1. Clone this repository:
   ```bash
   git clone https://github.com/yourusername/financial-data-scraper.git
   ```

2. Navigate into the project directory:
   ```bash
   cd financial-data-scraper
   ```

3. Install the dependencies:
   ```bash
   pip install -r requirements.txt
   ```

## Usage

1. Add the company URLs to the `urls` list in the script. You can update this list to include the companies you want to scrape.

2. Run the script:
   ```bash
   python scraper.py
   ```

3. The script will scrape the latest financial data for each company and generate the three CSV files containing the required metrics.

4. You can view or analyze the CSV files as needed.

## Data Storage

The scraped data is stored in pandas DataFrames and exported to CSV files, making it easy to share and analyze.

## Issues and Challenges

- **Handling Missing or Incomplete Data**: In some cases, financial data for a particular year may be missing. The scraper handles this by inserting `None` values where applicable.
  
- **OPM% Parsing**: OPM% values are stored as percentages, which need to be parsed carefully by stripping out the '%' symbol and converting the value to a float.

## Future Enhancements

- **Error Handling**: Improve error handling for network issues or cases where a company page does not follow the standard HTML structure.
  
- **Additional Metrics**: Extend the scraper to include more financial metrics like EBITDA, ROCE, etc.
  
- **Automation**: Set up a cron job or scheduler to run the scraper at regular intervals to keep the data updated.

---

Feel free to modify this README further to match any additional details or changes in your project!
